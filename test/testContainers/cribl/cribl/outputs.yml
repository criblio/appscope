outputs:
  default:
    defaultId: splunk
    type: default
  s3:
    type: s3
    bucket: business_event
    destPath: ""
    stagePath: /tmp/cribl
    awsApiKey: ACCESSKEY
    awsSecretKey: SECRETKEY
    region: us-east-1
    endpoint: http://minio:9000
    signatureVersion: v4
    partitionExpr: "`${host}/${sourcetype}`"
    format: json
    baseFileName: CriblOut
    compress: none
    maxFileSizeMB: 32
    maxFileOpenTimeSec: 60
    maxFileIdleTimeSec: 30
    maxOpenFiles: 100
  elastic:
    type: elastic
    pipeline: elastic
    url: http://elasticsearch:9200/_bulk
    index: cribl
    docType: cribl
    concurrency: 5
    maxPayloadSizeKB: 4096
    flushPeriodSec: 1
    onBackpressure: drop
  s3_bigjson:
    type: s3
    bucket: bigjson
    destPath: ""
    stagePath: /tmp/cribl
    awsApiKey: ACCESSKEY
    awsSecretKey: SECRETKEY
    region: us-east-1
    endpoint: http://minio:9000
    signatureVersion: v4
    partitionExpr: "`${host}/${sourcetype}`"
    format: json
    baseFileName: CriblOut
    compress: gzip
    maxFileSizeMB: 32
    maxFileOpenTimeSec: 60
    maxFileIdleTimeSec: 30
    maxOpenFiles: 100
  graphite:
    type: graphite
    pipeline: graphite-conditioning
    protocol: tcp
    host: graphite
    port: 2003
    mtu: 512
    flushPeriodSec: 1
    onBackpressure: drop
  statsd:
    type: router
    rules:
      - filter: "true"
        output: localhost
        final: false
      - filter: "true"
        output: splunk-metrics
        final: false
      - filter: "true"
        output: graphite
        final: true
    onBackpressure: drop
  kv2json:
    type: router
    rules:
      - filter: "true"
        output: splunk
        final: false
      - filter: "true"
        output: s3
        final: true
  splunk:
    type: splunk
    host: splunk
    port: 9997
    nestedFields: none
    tls:
      disabled: true
    connectionTimeout: 5000
    writeTimeout: 10000
    onBackpressure: queue
    pqMaxFileSize: 1 MB
    pqPath: $CRIBL_HOME/state/queues
    pqCompress: none
  localhost:
    type: statsd_ext
    protocol: udp
    host: localhost
    port: 9125
    mtu: 512
    flushPeriodSec: 1
    connectionTimeout: 5000
    writeTimeout: 10000
  temp:
    type: filesystem
    destPath: /tmp/enrich
    stagePath: /tmp/staging
    partitionExpr: "``"
    format: json
    baseFileName: CriblOut
    compress: none
    maxFileSizeMB: 32
    maxFileOpenTimeSec: 300
    maxFileIdleTimeSec: 30
    maxOpenFiles: 100
  enrich:
    type: router
    rules:
      - filter: "true"
        output: temp
        final: false
      - filter: "true"
        output: splunk
        final: true
  splunk-beats:
    type: splunk
    pipeline: beats-conditioning
    host: splunk
    port: 9997
    nestedFields: none
    tls:
      disabled: true
    connectionTimeout: 5000
    writeTimeout: 10000
    onBackpressure: queue
    pqMaxFileSize: 1 MB
    pqPath: $CRIBL_HOME/state/queues
    pqCompress: none
  beats:
    type: router
    rules:
      - filter: "true"
        output: elastic
        final: false
      - filter: "true"
        output: splunk-beats
        final: true
  splunk-metrics:
    type: splunk
    pipeline: metrics_to_logs
    host: splunk
    port: 9998
    nestedFields: none
    tls:
      disabled: true
    connectionTimeout: 5000
    writeTimeout: 10000
    onBackpressure: queue
